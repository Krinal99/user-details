{"ast":null,"code":"var _jsxFileName = \"/home/alite/Desktop/user-details/src/component/Dashboard.js\";\nimport React from 'react';\nimport \"./style.css\"; // import \"bootstrap/dist/css/bootstrap.css\";\n\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport { Type } from 'react-bootstrap-table2-editor';\nimport cellEditFactory from 'react-bootstrap-table2-editor';\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from 'axios';\nconst columns = [{\n  dataField: \"id\",\n  text: \"User Id\",\n  editable: false\n}, {\n  dataField: \"name\",\n  text: \"User Name\",\n  editable: false\n}, {\n  dataField: \"Email\",\n  text: \"User Email\",\n  editable: false\n}, {\n  dataField: \"Action\",\n  text: 'Action',\n  editor: {\n    type: Type.SELECT,\n    options: [{\n      value: 'Edit User',\n      label: 'Edit User'\n    }, {\n      value: 'Delete User',\n      label: 'Delete User'\n    }]\n  }\n}];\ntoast.configure();\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchUserData = () => {\n      fetch(\"https://reqres.in/api/users?page=1\").then(res => res.json()).then(json => {\n        this.setState({\n          items: json,\n          DataisLoaded: true\n        }, () => {// this.getdata(this.state.items); \n        });\n      });\n    };\n\n    this.getdata = items => {\n      const data = [];\n      items.data.map(user => {\n        data.push({\n          id: user.id,\n          name: user.first_name,\n          Email: user.email,\n          Action: \"Select action\"\n        });\n        this.setState({\n          dataSource: data\n        });\n      });\n    };\n\n    this.handleAdd = () => {\n      this.setState({\n        showModal: true\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let userObject = {\n        name: this.state.name,\n        job: this.state.job\n      };\n      this.setState({\n        addUserData: userObject\n      }, () => {\n        this.addUser(userObject);\n      });\n    };\n\n    this.addUser = userObject => {\n      axios.post('https://reqres.in/api/users', userObject).then(response => toast(\"Successfully User Added\")).catch(error => toast(\"Failed\"));\n      this.setState({\n        showModal: false\n      });\n    };\n\n    this.handleEditClose = () => {\n      this.setState({\n        EditShowModal: false\n      });\n    };\n\n    this.updateUser = userdetails => {\n      let id = userdetails.id;\n      let user = {\n        name: userdetails.name,\n        id: userdetails.id,\n        email: userdetails.email\n      };\n      axios.put('https://reqres.in/api/users/', {\n        params: {\n          id\n        }\n      }, user).then(response => toast(\"Successfully Updated\")).catch(error => {\n        toast(\"falied\");\n      });\n      this.setState({\n        EditShowModal: false\n      });\n    };\n\n    this.onChangeName = e => {\n      this.setState({\n        name: e.target.value\n      });\n    };\n\n    this.onChangeJob = e => {\n      this.setState({\n        job: e.target.value\n      });\n    };\n\n    this.handleLogout = e => {\n      let {\n        history\n      } = this.props;\n      history.push({\n        pathname: \"/login\"\n      });\n    };\n\n    this.headerlayout = () => {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 27\n        }\n      }, this.state.loginUser)), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-info\",\n        style: {\n          padding: \"10px 20px\"\n        },\n        onClick: this.handleLogout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 27\n        }\n      }, \"Logout\")))));\n    };\n\n    this.onChangeEditName = e => {\n      this.setState({\n        editableName: e.target.value\n      });\n    };\n\n    this.onEditChangeEmail = e => {\n      this.setState({\n        editableEmail: e.target.value\n      });\n    };\n\n    this.handleEdit = e => {\n      e.preventDefault();\n      console.log(\"e\", e);\n      let userObject = {\n        name: this.state.editableName,\n        Email: this.state.editableEmail\n      };\n      this.updateUser(userObject);\n    };\n\n    this.state = {\n      loginUser: this.props.location.user,\n      name: '',\n      job: '',\n      items: [],\n      dataSource: [],\n      addUserData: null,\n      showModal: false,\n      DataisLoaded: false,\n      updateuserdetail: null,\n      editableName: '',\n      editableEmail: '',\n      EditShowModal: false\n    };\n    this.handleAdd = this.handleAdd.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onChangeJob = this.onChangeJob.bind(this);\n    this.onChangeName = this.onChangeName.bind(this);\n    this.addUser = this.addUser.bind(this);\n    this.updateUser = this.updateUser.bind(this);\n    this.handleChangeCellEdit = this.handleChangeCellEdit.bind(this);\n    this.handleEditClose = this.handleEditClose.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n    this.onChangeEditName = this.onChangeEditName.bind(this);\n    this.onEditChangeEmail = this.onEditChangeEmail.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchUserData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.items != prevState.items) {\n      this.getdata(this.state.items);\n    }\n  }\n\n  handleChangeCellEdit(oldValue, newValue, row, column) {\n    let indexOfSelectedItem = -1;\n    column.editor.options.forEach((item, idx) => {\n      if (newValue === item.value) {\n        if (newValue === \"Edit User\") {\n          // this.updateUser(row);\n          this.setState({\n            updateuserdetail: row,\n            editableName: row.name,\n            editableEmail: row.Email,\n            id: row.id\n          }, () => {\n            this.setState({\n              EditShowModal: true\n            });\n          });\n        } // indexOfSelectedItem = idx;\n\n      }\n    });\n\n    if (indexOfSelectedItem > -1) {\n      console.log(indexOfSelectedItem);\n    }\n  }\n\n  render() {\n    console.log(\"hello\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }\n    }, this.headerlayout(), /*#__PURE__*/React.createElement(BootstrapTable, {\n      bootstrap4: true,\n      keyField: \"id\",\n      data: this.state.dataSource,\n      columns: columns,\n      cellEdit: cellEditFactory({\n        mode: 'click',\n        blurToSave: true,\n        afterSaveCell: this.handleChangeCellEdit\n      }),\n      pagination: paginationFactory({\n        sizePerPage: 5\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-info\",\n      onClick: this.handleAdd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }\n    }, \"Add User\")), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.showModal,\n      onHide: this.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 19\n      }\n    }, \"Add User\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Enter Name\",\n      onChange: this.onChangeName,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 21\n      }\n    }, \"Job\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Job\",\n      onChange: this.onChangeJob,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 19\n      }\n    }, \"ADD\")))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.EditShowModal,\n      onHide: this.handleEditClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 19\n      }\n    }, \"Edit user\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      defaultValue: this.state.editableName,\n      onChange: this.onChangeEditName,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      value: this.state.editableEmail,\n      onChange: this.onEditChangeEmail,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 19\n      }\n    }, \"Edit\"))))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/home/alite/Desktop/user-details/src/component/Dashboard.js"],"names":["React","BootstrapTable","paginationFactory","Type","cellEditFactory","Form","Modal","toast","axios","columns","dataField","text","editable","editor","type","SELECT","options","value","label","configure","Dashboard","Component","constructor","props","fetchUserData","fetch","then","res","json","setState","items","DataisLoaded","getdata","data","map","user","push","id","name","first_name","Email","email","Action","dataSource","handleAdd","showModal","handleClose","handleSubmit","e","preventDefault","userObject","state","job","addUserData","addUser","post","response","catch","error","handleEditClose","EditShowModal","updateUser","userdetails","put","params","onChangeName","target","onChangeJob","handleLogout","history","pathname","headerlayout","loginUser","padding","onChangeEditName","editableName","onEditChangeEmail","editableEmail","handleEdit","console","log","location","updateuserdetail","bind","handleChangeCellEdit","componentDidMount","componentDidUpdate","prevProps","prevState","oldValue","newValue","row","column","indexOfSelectedItem","forEach","item","idx","render","mode","blurToSave","afterSaveCell","sizePerPage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport \"./style.css\";\n// import \"bootstrap/dist/css/bootstrap.css\";\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport { Type } from 'react-bootstrap-table2-editor';\nimport cellEditFactory from 'react-bootstrap-table2-editor';\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\nimport Form from 'react-bootstrap/Form'\nimport Modal from 'react-bootstrap/Modal'\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from 'axios';\n  \nconst columns = [\n    {\n      dataField: \"id\",\n      text: \"User Id\",\n      editable: false,\n      \n    },\n    {\n      dataField: \"name\",\n      text: \"User Name\",\n      editable: false,\n    },\n    {\n      dataField: \"Email\",\n      text: \"User Email\",\n      editable: false,\n    },\n    {\n      dataField: \"Action\",\n      text: 'Action',\n      editor:{\n            type: Type.SELECT,\n            options: [{  \n              value: 'Edit User',\n              label: 'Edit User'\n            }, {\n              value: 'Delete User',\n              label: 'Delete User'\n            }]\n      }\n    }\n  ];\n\n  toast.configure()\n\nclass Dashboard extends React.Component {\n    constructor(props){\n        super(props);\n        this.state={\n            loginUser:this.props.location.user,\n            name:'',\n            job:'',\n            items: [],\n            dataSource:[],\n            addUserData:null,\n            showModal:false,\n            DataisLoaded: false,\n            updateuserdetail:null,\n            editableName:'',\n            editableEmail:'',\n            EditShowModal:false,\n        }\n        this.handleAdd = this.handleAdd.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.handleSubmit =this.handleSubmit.bind(this);\n        this.onChangeJob = this.onChangeJob.bind(this);\n        this.onChangeName = this.onChangeName.bind(this);\n        this.addUser = this.addUser.bind(this);\n        this.updateUser = this.updateUser.bind(this);\n        this.handleChangeCellEdit = this. handleChangeCellEdit.bind(this);\n        this.handleEditClose = this.handleEditClose.bind(this);\n        this.handleEdit = this.handleEdit.bind(this);\n        this.onChangeEditName =this.onChangeEditName.bind(this);\n        this.onEditChangeEmail = this.onEditChangeEmail.bind(this);\n\n    }\n\n    componentDidMount(){\n        this.fetchUserData();\n                         \n    }\n\n    componentDidUpdate(prevProps,prevState){\n        if(this.state.items != prevState.items){\n           this.getdata(this.state.items);\n        }\n    }\n\n    fetchUserData = () => {\n        fetch(\"https://reqres.in/api/users?page=1\")\n            .then((res) => res.json())\n            .then((json) => {\n                \n                this.setState({\n                    items: json,\n                    DataisLoaded: true\n                } ,() => {\n                    // this.getdata(this.state.items); \n                });\n            })\n    }\n\n    getdata = (items) => {\n        const data = [];\n        items.data.map((user) => {\n            data.push({ id: user.id, name: user.first_name  , Email: user.email ,Action:\"Select action\"})\n            this.setState({\n                dataSource: data\n            })\n        } )\n    }\n\n    handleAdd = () => {\n        this.setState({showModal:true})\n    }\n    handleClose = () => {\n        this.setState({showModal:false})\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault()\n        let userObject = {\n            name: this.state.name,\n            job: this.state.job,\n        }\n        this.setState({addUserData: userObject},() => {\n            this.addUser(userObject)\n        })\n    }\n    addUser = (userObject) => {\n        axios.post('https://reqres.in/api/users', userObject)\n        .then(response => \n            toast(\"Successfully User Added\")\n        )\n        .catch(error =>\n            toast(\"Failed\")\n        )\n        this.setState({showModal:false})\n    }\n\n    handleEditClose = () => {\n        this.setState({EditShowModal:false})\n    }\n    updateUser = (userdetails) => {\n        let id = userdetails.id\n        let user = {\n            name: userdetails.name,\n            id : userdetails.id,\n            email: userdetails.email,\n        }\n        axios.put('https://reqres.in/api/users/',{ params: { id }} , user)\n        .then(response => toast(\"Successfully Updated\"))\n        .catch(error => {\n           toast(\"falied\")\n        });\n        this.setState({\n            EditShowModal:false\n        })\n    }\n\n    onChangeName = (e) =>{\n        this.setState({name:e.target.value})\n    }\n    onChangeJob = (e) =>{\n      this.setState({job:e.target.value})\n    }\n    \n    handleLogout = (e) => {\n        let { history } = this.props;\n        history.push({ pathname: \"/login\" })\n    }\n\n    handleChangeCellEdit(oldValue, newValue, row, column){\n        let indexOfSelectedItem = -1;\n        column.editor.options.forEach((item, idx) => {\n          if (newValue === item.value) {\n                if(newValue === \"Edit User\"){\n\n                // this.updateUser(row);\n                this.setState({\n                    updateuserdetail:row,\n                    editableName: row.name,\n                    editableEmail:row.Email,\n                    id: row.id,\n                }, () => {\n            \n                    this.setState({EditShowModal:true,})\n                })\n                }\n            // indexOfSelectedItem = idx;\n          }\n        });\n        if (indexOfSelectedItem > -1) {\n          console.log(indexOfSelectedItem);\n        }\n    }\n\n    headerlayout = () => {\n        return(\n            <>\n            <div className=\"header\">\n                <div className='d-flex justify-content-end'>\n                    <span><h3>{this.state.loginUser}</h3></span>\n                    <span><button className='btn btn-info' style={{padding:\"10px 20px\" }} onClick={this.handleLogout}>Logout</button></span>\n                </div>\n            </div>\n            </>\n        )\n    }\n    \n    onChangeEditName = (e) => {\n        this.setState({editableName: e.target.value})\n    }\n\n    onEditChangeEmail = (e) => {\n        this.setState({editableEmail: e.target.value})\n    }\n\n    handleEdit = (e) => {\n        e.preventDefault()\n        console.log(\"e\",e);\n        let userObject = {\n            name: this.state.editableName,\n            Email: this.state.editableEmail,\n        }\n        \n            this.updateUser(userObject)\n    \n    }\n\n  render() {\n      console.log(\"hello\")\n    return (\n      <div className=\"container-fluid\">\n\n        <div className=\"wrapper\">\n            {this.headerlayout()}\n              \n            <BootstrapTable\n                bootstrap4\n                keyField=\"id\"\n                data={this.state.dataSource}\n                columns={columns}\n                cellEdit={ cellEditFactory({ \n                            mode: 'click',\n                            blurToSave: true,\n                            afterSaveCell: this.handleChangeCellEdit}) }\n                pagination={paginationFactory({ sizePerPage: 5 })}\n            />\n\n            <div>\n                <button className='btn btn-outline-info' onClick={this.handleAdd}>Add User</button>\n            </div>\n\n            <Modal show={this.state.showModal} onHide={this.handleClose}>\n                <Modal.Header closeButton>\n                  <Modal.Title>Add User</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                <Form onSubmit={this.handleSubmit}>\n                  <Form.Group className=\"mb-3\" >\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control type=\"text\" placeholder=\"Enter Name\" onChange={this.onChangeName} required />\n                  </Form.Group>\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Job</Form.Label>\n                    <Form.Control type=\"text\" placeholder=\"Job\" onChange={this.onChangeJob} required />\n                  </Form.Group>\n                  <button type=\"submit\" className='btn btn-primary'>\n                    ADD\n                  </button>\n                </Form>\n                </Modal.Body>\n            </Modal>\n\n            {/* edit user modal */}\n            <Modal show={this.state.EditShowModal} onHide={this.handleEditClose}>\n                <Modal.Header closeButton>\n                  <Modal.Title>Edit user</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                <Form onSubmit={this.handleEdit}>\n                  <Form.Group className=\"mb-3\" >\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control type=\"text\" defaultValue={this.state.editableName} onChange={this.onChangeEditName} required />\n                  </Form.Group>\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Email</Form.Label>\n                    <Form.Control type=\"text\" value={this.state.editableEmail} onChange={this.onEditChangeEmail} required />\n                  </Form.Group>\n                  <button type=\"submit\" className='btn btn-primary'>\n                    Edit\n                  </button>\n                </Form>\n                </Modal.Body>\n            </Modal>\n          </div>\n        </div>\n    )\n  }\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}